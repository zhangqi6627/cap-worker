(()=>{const t="0.0.6",e=(...t)=>window?.CAP_CUSTOM_FETCH?window.CAP_CUSTOM_FETCH(...t):fetch(...t);function a(t,e){let a=function(t){let e=2166136261;for(let a=0;a<t.length;a++)e^=t.charCodeAt(a),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}(t),n="";function r(){return a^=a<<13,a^=a>>>17,a^=a<<5,a>>>0}for(;n.length<e;){n+=r().toString(16).padStart(8,"0")}return n.substring(0,e)}window.CAP_CUSTOM_WASM_URL||[`https://cdn.jsdelivr.net/npm/@cap.js/wasm@${t}/browser/cap_wasm.min.js`,`https://cdn.jsdelivr.net/npm/@cap.js/wasm@${t}/browser/cap_wasm_bg.wasm`].forEach(t=>{const e=document.createElement("link");e.rel="prefetch",e.href=t,e.as=t.endsWith(".wasm")?"fetch":"script",document.head.appendChild(e)});class n extends HTMLElement{#t="";#e=null;#a=navigator.hardwareConcurrency||8;token=null;#n;#r;#o;#i=!1;#s;getI18nText(t,e){return this.getAttribute(`data-cap-i18n-${t}`)||e}static get observedAttributes(){return["onsolve","onprogress","onreset","onerror","data-cap-worker-count","data-cap-i18n-initial-state","[cap]"]}constructor(){super(),this.#s&&this.#s.forEach((t,e)=>{this.removeEventListener(e.slice(2),t)}),this.#s=new Map,this.boundHandleProgress=this.handleProgress.bind(this),this.boundHandleSolve=this.handleSolve.bind(this),this.boundHandleError=this.handleError.bind(this),this.boundHandleReset=this.handleReset.bind(this)}initialize(){this.#t=URL.createObjectURL(new Blob(['(()=>{if("object"!=typeof WebAssembly||"function"!=typeof WebAssembly?.instantiate)return self.onmessage=async({data:{salt:e,target:r}})=>{let o=0;const t=new TextEncoder,s=new Uint8Array(r.length/2);for(let e=0;e<s.length;e++)s[e]=parseInt(r.substring(2*e,2*e+2),16);const n=s.length;for(;;)try{for(let r=0;r<5e4;r++){const r=e+o,a=t.encode(r),l=await crypto.subtle.digest("SHA-256",a),c=new Uint8Array(l,0,n);let f=!0;for(let e=0;e<n;e++)if(c[e]!==s[e]){f=!1;break}if(f)return void self.postMessage({nonce:o,found:!0});o++}}catch(e){return console.error("[cap worker]",e),void self.postMessage({found:!1,error:e.message})}},console.warn("[cap worker] wasm not supported, falling back to alternative solver. this will be significantly slower.");let e,r;self.onmessage=async({data:{salt:o,target:t,wasmUrl:s}})=>{e!==s&&(e=s,await import(s).then(e=>e.default().then(o=>{r=(o?.exports?o.exports:e).solve_pow})).catch(e=>{console.error("[cap worker] using fallback solver due to error:",e)}));try{const e=performance.now(),s=r(o,t),n=performance.now();self.postMessage({nonce:Number(s),found:!0,durationMs:(n-e).toFixed(2)})}catch(e){console.error("[cap worker]",e),self.postMessage({found:!1,error:e.message||String(e)})}},self.onerror=e=>{self.postMessage({found:!1,error:e})}})();'],{type:"application/javascript"}))}attributeChangedCallback(t,e,a){if(t.startsWith("on")){const e=t.slice(2),n=this.#s.get(t);if(n&&this.removeEventListener(e,n),a){const a=e=>{const a=this.getAttribute(t);"function"==typeof window[a]&&window[a].call(this,e)};this.#s.set(t,a),this.addEventListener(e,a)}}"data-cap-worker-count"===t&&this.setWorkersCount(parseInt(a)),"data-cap-i18n-initial-state"===t&&this.#r&&this.#r?.querySelector("p")?.innerText&&(this.#r.querySelector("p").innerText=this.getI18nText("initial-state","Verify to continue"))}async connectedCallback(){this.#o=this,this.#n=this.attachShadow({mode:"open"}),this.#r=document.createElement("div"),this.createUI(),this.addEventListeners(),await this.initialize(),this.#r.removeAttribute("disabled");const t=this.getAttribute("data-cap-worker-count"),e=t?parseInt(t,10):null;this.setWorkersCount(e||navigator.hardwareConcurrency||8);const a=this.getAttribute("data-cap-hidden-field-name")||"cap-token";this.#o.innerHTML=`<input type="hidden" name="${a}">`}async solve(){if(!this.#i)try{this.#i=!0,this.updateUI("verifying",this.getI18nText("verifying-label","Computing proof..."),!0),this.#r.setAttribute("aria-label",this.getI18nText("verifying-aria-label","Computing proof of work, please wait")),this.dispatchEvent("progress",{progress:0});try{let t=this.getAttribute("data-cap-api-endpoint");if(!t&&window?.CAP_CUSTOM_FETCH)t="/";else if(!t)throw new Error("Missing API endpoint. Either custom fetch or an API endpoint must be provided.");const{challenge:n,token:r}=await(await e(`${t}challenge`,{method:"POST"})).json();let o=n;if(!Array.isArray(o)){let t=0;o=Array.from({length:n.c},()=>(t+=1,[a(`${r}${t}`,n.s),a(`${r}${t}d`,n.d)]))}const i=await this.solveChallenges(o),s=await(await e(`${t}redeem`,{method:"POST",body:JSON.stringify({token:r,solutions:i}),headers:{"Content-Type":"application/json"}})).json();if(this.dispatchEvent("progress",{progress:100}),!s.success)throw new Error("Invalid solution");const c=this.getAttribute("data-cap-hidden-field-name")||"cap-token";this.querySelector(`input[name='${c}']`)&&(this.querySelector(`input[name='${c}']`).value=s.token),this.dispatchEvent("solve",{token:s.token}),this.token=s.token,this.#e&&clearTimeout(this.#e);const d=new Date(s.expires).getTime()-Date.now();return d>0&&d<864e5?this.#e=setTimeout(()=>this.reset(),d):this.error("Invalid expiration time"),this.#r.setAttribute("aria-label",this.getI18nText("verified-aria-label","Proof of work completed, you may now continue")),{success:!0,token:this.token}}catch(t){throw this.#r.setAttribute("aria-label",this.getI18nText("error-aria-label","An error occurred during verification, please try again")),this.error(t.message),t}}finally{this.#i=!1}}async solveChallenges(e){const a=e.length;let n=0;const r=Array(this.#a).fill(null).map(()=>{try{return new Worker(this.#t)}catch(t){throw console.error("[cap] Failed to create worker:",t),new Error("Worker creation failed")}}),o=([e,o],i)=>new Promise((s,c)=>{const d=r[i];if(!d)return void c(new Error("Worker not available"));const p=setTimeout(()=>{try{d.terminate(),r[i]=new Worker(this.#t)}catch(t){console.error("[cap] error terminating/recreating worker:",t)}c(new Error("Worker timeout"))},3e4);d.onmessage=({data:t})=>{t.found&&(clearTimeout(p),n++,this.dispatchEvent("progress",{progress:Math.round(n/a*100)}),s(t.nonce))},d.onerror=t=>{clearTimeout(p),this.error(`Error in worker: ${t.message||t}`),c(t)},d.postMessage({salt:e,target:o,wasmUrl:window.CAP_CUSTOM_WASM_URL||`https://cdn.jsdelivr.net/npm/@cap.js/wasm@${t}/browser/cap_wasm.min.js`})}),i=[];try{for(let t=0;t<e.length;t+=this.#a){const a=e.slice(t,Math.min(t+this.#a,e.length)),n=await Promise.all(a.map((t,e)=>o(t,e)));i.push(...n)}}finally{r.forEach(t=>{if(t)try{t.terminate()}catch(t){console.error("[cap] error terminating worker:",t)}})}return i}setWorkersCount(t){const e=parseInt(t,10),a=Math.min(navigator.hardwareConcurrency||8,16);this.#a=!Number.isNaN(e)&&e>0&&e<=a?e:navigator.hardwareConcurrency||8}createUI(){this.#r.classList.add("captcha"),this.#r.setAttribute("part","container"),this.#r.setAttribute("role","checkbox"),this.#r.setAttribute("tabindex","0"),this.#r.setAttribute("aria-label",this.getI18nText("verify-aria-label","Click to verify")),this.#r.setAttribute("aria-live","polite"),this.#r.setAttribute("aria-atomic","true"),this.#r.setAttribute("aria-busy","false"),this.#r.setAttribute("aria-checked","false"),this.#r.setAttribute("disabled","true"),this.#r.setAttribute("aria-disabled","true");const t=`cap-label-${Math.random().toString(36).slice(2)}`;this.#r.setAttribute("aria-describedby",t),this.#r.innerHTML=`<div class="checkbox" part="checkbox">\n\t\t\t\t<svg class="icon icon-check" viewBox="0 0 24 24" aria-hidden="true" focusable="false" preserveAspectRatio="xMidYMid meet">\n\t\t\t\t\t<path d="M5 12 10 17 20 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" pathLength="1"></path>\n\t\t\t\t</svg>\n\t\t\t\t<svg class="icon icon-error" viewBox="0 0 24 24" aria-hidden="true" focusable="false" preserveAspectRatio="xMidYMid meet">\n\t\t\t\t\t<path fill="currentColor" d="M11 15h2v2h-2zm0-8h2v6h-2zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18a8 8 0 0 1-8-8a8 8 0 0 1 8-8a8 8 0 0 1 8 8a8 8 0 0 1-8 8" />\n\t\t\t\t</svg>\n\t\t\t</div><p id="${t}" part="label">${this.getI18nText("initial-state","Verify to continue")}</p><div class="sr-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div><div class="particles" aria-hidden="true"></div><a part="attribution" aria-label="Secured by Cap-Worker" href="https://captcha.gurl.eu.org/" class="credits" target="_blank" rel="follow noopener">Cap-Worker</a>`,this.#n.innerHTML='<style>\n\t\t\t.captcha,.captcha * {box-sizing:border-box;}\n\t\t\t\n\t\t\t.captcha{\n\t\t\t\tbackground-color: var(--cap-background, #ffffff);\n\t\t\t\tborder: 1px solid var(--cap-border-color, rgba(0, 0, 0, 0.08));\n\t\t\t\tborder-radius: var(--cap-border-radius, 12px);\n\t\t\t\tuser-select: none;\n\t\t\t\theight: var(--cap-widget-height, 56px);\n\t\t\t\twidth: var(--cap-widget-width, 280px);\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: var(--cap-widget-padding, 16px);\n\t\t\t\tgap: var(--cap-gap, 12px);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\tposition: relative;\n\t\t\t\t-webkit-tap-highlight-color: rgba(255,255,255,0);\n\t\t\t\toverflow: hidden;\n\t\t\t\tcolor: var(--cap-color, #1d1d1f);\n\t\t\t\tbox-shadow: var(--cap-shadow, 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06));\n\t\t\t\tbackdrop-filter: blur(10px);\n\t\t\t\t-webkit-backdrop-filter: blur(10px);\n\t\t\t\t/* Deeper base for light mode skeleton */\n\t\t\t\t--cap-skeleton-base: var(--cap-skeleton-base-light, #4b5563);\n\t\t\t\t--cap-skeleton-sheen: var(--cap-skeleton-sheen-light, #e5e7eb);\n\t\t\t}\n\n\t\t\t/* Initial-state label shimmer (intro) */\n\t\t\t:host(:not([data-cap-skeleton="false"])) .captcha:not([data-state]) p,\n\t\t\t:host(:not([data-cap-skeleton="false"])) .captcha[data-state=""] p {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground: linear-gradient(90deg,\n\t\t\t\t\tvar(--cap-skeleton-base,rgb(114, 118, 126)) 25%,\n\t\t\t\t\tvar(--cap-skeleton-sheen, #e5e7eb) 50%,\n\t\t\t\t\tvar(--cap-skeleton-base, rgb(114, 118, 126)) 75%\n\t\t\t\t);\n\t\t\t\tbackground-size: 400% 100%;\n\t\t\t\t-webkit-background-clip: text;\n\t\t\t\tbackground-clip: text;\n\t\t\t\tcolor: var(--cap-color-initial, transparent);\n\t\t\t\tanimation: cap-sheen var(--cap-skeleton-intro-speed, 6s) ease-in-out infinite;\n\t\t\t}\n\n\t\t\t/* Size variants */\n\t\t\t:host([data-cap-size="compact"]) .captcha {\n\t\t\t\theight: 44px;\n\t\t\t\twidth: 240px;\n\t\t\t\tpadding: 12px;\n\t\t\t\tgap: 10px;\n\t\t\t}\n\t\t\t:host([data-cap-size="compact"]) .captcha p { font-size: 14px; }\n\t\t\t:host([data-cap-size="compact"]) .checkbox { width: 20px; height: 20px; }\n\t\t\t\n\t\t\t:host([data-cap-size="large"]) .captcha {\n\t\t\t\theight: 64px;\n\t\t\t\twidth: 320px;\n\t\t\t\tpadding: 18px;\n\t\t\t\tgap: 14px;\n\t\t\t}\n\t\t\t:host([data-cap-size="large"]) .captcha p { font-size: 16px; }\n\t\t\t:host([data-cap-size="large"]) .checkbox { width: 28px; height: 28px; }\n\n\t\t\t/* Shape variants */\n\t\t\t:host([data-cap-shape="pill"]) .captcha { border-radius: 9999px; }\n\t\t\t:host([data-cap-shape="pill"]) .checkbox { border-radius: 9999px; }\n\t\t\t:host([data-cap-shape="square"]) .captcha { border-radius: 8px; }\n\n\t\t\t/* Elevation variant */\n\t\t\t:host([data-cap-elevation="flat"]) .captcha { box-shadow: none; }\n\t\t\t:host([data-cap-hide-attribution="true"]) .credits { display: none; }\n\t\t\t:host([data-cap-fullwidth="true"]) .captcha { width: 100%; }\n\t\t\t:host([dir="rtl"]) .captcha { direction: rtl; }\n\n\t\t\t/* Credits position variants */\n\t\t\t:host([data-cap-credits-position="top-right"]) .credits { top: 8px; bottom: auto; right: 10px; left: auto; }\n\t\t\t:host([data-cap-credits-position="top-left"]) .credits { top: 8px; bottom: auto; left: 10px; right: auto; }\n\t\t\t:host([data-cap-credits-position="bottom-left"]) .credits { bottom: 8px; top: auto; left: 10px; right: auto; }\n\n\t\t\t/* Particles layer */\n\t\t\t.particles {\n\t\t\t\tposition: absolute;\n\t\t\t\tinset: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t\topacity: 0;\n\t\t\t\tbackground-image: radial-gradient(circle, var(--cap-particle-color, rgba(14, 165, 233, 0.20)) 1px, transparent 1.5px);\n\t\t\t\tbackground-size: var(--cap-particle-gap, 22px) var(--cap-particle-gap, 22px);\n\t\t\t\twill-change: background-position, opacity;\n\t\t\t\tmix-blend-mode: var(--cap-particle-blend, overlay);\n\t\t\t\tfilter: blur(var(--cap-particle-blur, 0px));\n\t\t\t}\n\t\t\t.captcha[data-state=verifying] .particles {\n\t\t\t\topacity: var(--cap-particle-opacity, .4);\n\t\t\t\tanimation: cap-particles var(--cap-particle-speed, 28s) linear infinite;\n\t\t\t}\n\t\t\t:host([data-cap-particles="false"]) .particles { display: none; }\n\t\t\t:host([data-cap-skeleton="false"]) .particles { display: none; }\n\t\t\t@keyframes cap-particles { to { background-position: 200% 200%; } }\n\n\t\t\t.captcha:hover{\n\t\t\t\tbackground-color: var(--cap-background-hover, #f8f9fa);\n\t\t\t\tborder-color: var(--cap-border-color-hover, rgba(0, 0, 0, 0.12));\n\t\t\t\tbox-shadow: var(--cap-shadow-hover, 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06));\n\t\t\t\ttransform: translateY(-1px);\n\t\t\t}\n\t\t\t\n\t\t\t.captcha:active {\n\t\t\t\ttransform: translateY(0px);\n\t\t\t\tbox-shadow: var(--cap-shadow-active, 0 1px 2px rgba(0, 0, 0, 0.06));\n\t\t\t}\n\t\t\t\n\t\t\t.checkbox{\n\t\t\t\twidth: var(--cap-checkbox-size, 24px);\n\t\t\t\theight: var(--cap-checkbox-size, 24px);\n\t\t\t\tborder: var(--cap-checkbox-border, 2px solid #d1d5db);\n\t\t\t\tborder-radius: var(--cap-checkbox-border-radius, 6px);\n\t\t\t\tbackground-color: var(--cap-checkbox-background, #ffffff);\n\t\t\t\ttransition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t/* Inline SVG icons for done/error (replaces heavy data-URI backgrounds) */\n\t\t\t.checkbox .icon {\n\t\t\t\tposition: absolute;\n\t\t\t\tinset: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tmargin: 0;\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.checkbox .icon-check path {\n\t\t\t\tstroke-dasharray: 1;\n\t\t\t\tstroke-dashoffset: 1;\n\t\t\t}\n\t\t\t.captcha[data-state=done] .checkbox .icon-check {\n\t\t\t\topacity: 1;\n\t\t\t\ttransition: opacity 0.2s ease;\n\t\t\t\tcolor: var(--cap-checkmark-color, #00a67d);\n\t\t\t}\n\t\t\t.captcha[data-state=done] .checkbox .icon-check path {\n\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\ttransition: stroke-dashoffset 0.45s ease;\n\t\t\t}\n\t\t\t.captcha[data-state=error] .checkbox .icon-error {\n\t\t\t\topacity: 1;\n\t\t\t\ttransition: opacity 0.2s ease;\n\t\t\t\tcolor: var(--cap-error-icon-color, #f55b50);\n\t\t\t}\n\n\t\t\t/* Visually-hidden progress for screen readers */\n\t\t\t.sr-progress { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }\n\t\t\t\n\t\t\t.captcha *{\n\t\t\t\tfont-family: var(--cap-font, -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, "Helvetica Neue", Arial, sans-serif);\n\t\t\t}\n\t\t\t\n\t\t\t.captcha p{\n\t\t\t\tmargin: 0;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tfont-size: 15px;\n\t\t\t\tline-height: 1.4;\n\t\t\t\tuser-select: none;\n\t\t\t\ttransition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\tletter-spacing: -0.01em;\n\t\t\t\tdisplay: inline-block; /* limit sheen overlay width to content */\n\t\t\t}\n\t\t\t\n\t\t\t/* Verifying State - Keep Original Animation */\n\t\t\t.captcha[data-state=verifying] {\n\t\t\t\tborder-color: var(--cap-border-color-verifying, var(--cap-accent, #0ea5e9));\n\t\t\t\ttransition: border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\tcolor: var(--cap-color-verifying, #0c4a6e);\n\t\t\t}\n\t\t\t\n\t\t\t.captcha[data-state=verifying] .checkbox{\n\t\t\t\tbackground: none;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:center;\n\t\t\t\ttransform: scale(1.1);\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground: conic-gradient(var(--cap-spinner-color, var(--cap-accent, #0ea5e9)) 0%, var(--cap-spinner-color, var(--cap-accent, #0ea5e9)) var(--progress, 0%), var(--cap-spinner-background-color, #eee) var(--progress, 0%), var(--cap-spinner-background-color, #eee) 100%);\n\t\t\t\tposition: relative;\n\t\t\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t}\n\t\t\t\n\t\t\t.captcha[data-state=verifying] .checkbox::after {\n\t\t\t\tcontent: "";\n\t\t\t\tbackground-color: var(--cap-background,#fdfdfd);\n\t\t\t\twidth: calc(100% - var(--cap-spinner-thickness,5px));\n\t\t\t\theight: calc(100% - var(--cap-spinner-thickness,5px));\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tmargin:calc(var(--cap-spinner-thickness,5px) / 2)\n\t\t\t}\n\n\t\t\t/* Verifying skeleton shimmer & ambient glow */\n\t\t\t.captcha[data-state=verifying] p {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground: linear-gradient(90deg,\n\t\t\t\t\tvar(--cap-skeleton-base, #9ca3af) 25%,\n\t\t\t\t\tvar(--cap-skeleton-sheen, #e5e7eb) 37%,\n\t\t\t\t\tvar(--cap-skeleton-base, #9ca3af) 63%\n\t\t\t\t);\n\t\t\t\tbackground-size: 400% 100%;\n\t\t\t\t-webkit-background-clip: text;\n\t\t\t\tbackground-clip: text;\n\t\t\t\tcolor: transparent;\n\t\t\t\tanimation: cap-sheen var(--cap-skeleton-speed, 3.6s) ease-in-out infinite;\n\t\t\t}\n\n\t\t\t.captcha[data-state=verifying]::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\tinset: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t\tbackground: linear-gradient(120deg,\n\t\t\t\t\ttransparent 0%,\n\t\t\t\t\tvar(--cap-ambient-color, rgba(14, 165, 233, 0.08)) 20%,\n\t\t\t\t\tvar(--cap-ambient-peak, rgba(14, 165, 233, 0.18)) 35%,\n\t\t\t\t\tvar(--cap-ambient-color, rgba(14, 165, 233, 0.08)) 50%,\n\t\t\t\t\ttransparent 60%\n\t\t\t\t);\n\t\t\t\tbackground-size: 200% 100%;\n\t\t\t\tanimation: cap-ambient var(--cap-ambient-speed, 2.2s) ease-in-out infinite;\n\t\t\t}\n\n\t\t\t.captcha[data-state=verifying]::before {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\tinset: 0;\n\t\t\t\tborder-radius: inherit;\n\t\t\t\tpointer-events: none;\n\t\t\t\tbox-shadow: 0 0 0 0 var(--cap-glow-color, rgba(14, 165, 233, 0.0));\n\t\t\t\tanimation: cap-glow var(--cap-glow-speed, 1.8s) ease-in-out infinite;\n\t\t\t}\n\n\t\t\t:host([data-cap-skeleton="false"]) .captcha[data-state=verifying] p {\n\t\t\t\tanimation: none;\n\t\t\t\tbackground: none;\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t\t:host([data-cap-skeleton="false"]) .captcha[data-state=verifying]::before,\n\t\t\t:host([data-cap-skeleton="false"]) .captcha[data-state=verifying]::after { display: none; }\n\n\t\t\t@keyframes cap-sheen { 0% { background-position: 0% 0%; } 100% { background-position: -400% 0%; } }\n\t\t\t@keyframes cap-sheen-scan { 0% { transform: translateX(-120%); } 100% { transform: translateX(120%); } }\n\t\t\t@keyframes cap-ambient { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }\n\t\t\t@keyframes cap-glow {\n\t\t\t\t0%, 100% { box-shadow: 0 0 0 0 var(--cap-glow-color, rgba(14, 165, 233, 0.0)); }\n\t\t\t\t50% { box-shadow: 0 0 0 var(--cap-glow-spread, 6px) var(--cap-glow-color, rgba(14, 165, 233, 0.10)); }\n\t\t\t}\n\t\t\t\n\t\t\t/* Fallback when conic-gradient is not supported */\n\t\t\t@supports not (background: conic-gradient(red, blue)) {\n\t\t\t\t.captcha[data-state=verifying] .checkbox {\n\t\t\t\t\tborder: 2px solid var(--cap-spinner-background-color, #eee);\n\t\t\t\t\tborder-top-color: var(--cap-spinner-color, var(--cap-accent, #0ea5e9));\n\t\t\t\t\tbackground: none;\n\t\t\t\t\tanimation: cap-spin 0.8s linear infinite;\n\t\t\t\t}\n\t\t\t\t.captcha[data-state=verifying] .checkbox::after { content: none; }\n\t\t\t}\n\t\t\t\n\t\t\t@keyframes cap-spin { to { transform: rotate(360deg); } }\n\t\t\t\n\t\t\t/* Success State - Keep Original Checkmark */\n\t\t\t.captcha[data-state=done] {\n\t\t\t\tborder-color: var(--cap-border-color-success, #22c55e);\n\t\t\t\tcolor: var(--cap-color-success, #0d7332);\n\t\t\t}\n\t\t\t\n\t\t\t.captcha[data-state=done] .checkbox{\n\t\t\t\tborder:1px solid transparent;\n\t\t\t\tbackground-image: none;\n\t\t\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t}\n\t\t\t\n\t\t\t/* Error State - Keep Original Cross */\n\t\t\t.captcha[data-state=error] {\n\t\t\t\tborder-color: var(--cap-border-color-error, #ef4444);\n\t\t\t\tcolor: var(--cap-color-error, #b91c1c);\n\t\t\t}\n\t\t\t\n\t\t\t.captcha[data-state=error] .checkbox{\n\t\t\t\tborder:1px solid transparent;\n\t\t\t\tbackground-image: none;\n\t\t\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t}\n\t\t\t\n\t\t\t/* Disabled States */\n\t\t\t.captcha[disabled]{\n\t\t\t\tcursor: not-allowed;\n\t\t\t\topacity: 0.6;\n\t\t\t}\n\t\t\t\n\t\t\t.captcha[disabled][data-state=verifying]{\n\t\t\t\tcursor: progress;\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t\t\n\t\t\t.captcha[disabled][data-state=done]{\n\t\t\t\tcursor: default;\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t\t\n\t\t\t/* Credits */\n\t\t\t.captcha .credits{\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 8px;\n\t\t\t\tright: 10px;\n\t\t\t\tfont-size: var(--cap-credits-font-size, 11px);\n\t\t\t\tcolor: var(--cap-credits-color, #6b7280);\n\t\t\t\topacity: var(--cap-credits-opacity, 0.7);\n\t\t\t\ttext-decoration: none;\n\t\t\t\tfont-weight: 500;\n\t\t\t\ttransition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\tletter-spacing: 0.01em;\n\t\t\t}\n\t\t\t\n\t\t\t.captcha .credits:hover {\n\t\t\t\topacity: 1;\n\t\t\t\tcolor: var(--cap-credits-color-hover,rgba(100, 107, 120, 0.84));\n\t\t\t}\n\t\t\t\n\t\t\t/* Dark Mode Support */\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\t.captcha {\n\t\t\t\t\tbackground-color: var(--cap-background-dark, rgba(28, 28, 30, 0.8));\n\t\t\t\t\tborder-color: var(--cap-border-color-dark, rgba(255, 255, 255, 0.1));\n\t\t\t\t\tcolor: var(--cap-color-dark, #f2f2f7);\n\t\t\t\t\tbox-shadow: var(--cap-shadow-dark, 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2));\n\t\t\t\t\ttransition: border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\t}\n\n\t\t\t\t/* Prefer lighter base for skeleton in dark to avoid heavy glow */\n\t\t\t\t.captcha {\n\t\t\t\t\t--cap-skeleton-base: var(--cap-skeleton-base-dark, #b7b8b9);\n\t\t\t\t\t--cap-skeleton-sheen: var(--cap-skeleton-sheen-dark,rgb(236, 236, 236));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha:hover {\n\t\t\t\t\tbackground-color: var(--cap-background-hover-dark, rgba(44, 44, 46, 0.8));\n\t\t\t\t\tborder-color: var(--cap-border-color-hover-dark, rgba(255, 255, 255, 0.15));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.checkbox {\n\t\t\t\t\tbackground-color: var(--cap-checkbox-background-dark, rgba(44, 44, 46, 0.8));\n\t\t\t\t\tborder-color: var(--cap-checkbox-border-dark, rgba(255, 255, 255, 0.2));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=verifying] {\n\t\t\t\t\tbackground-color: var(--cap-background-dark, rgba(28, 28, 30, 0.8));\n\t\t\t\t\tborder-color: var(--cap-border-color-verifying-dark, rgba(14, 165, 233, 0.8));\n\t\t\t\t\tcolor: var(--cap-color-verifying-dark, #60a5fa);\n\t\t\t\t\tbox-shadow: 0 0 0 1px rgba(14, 165, 233, 0.2), var(--cap-shadow-dark, 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=verifying] .checkbox::after {\n\t\t\t\t\tbackground-color: var(--cap-background-dark, rgba(28, 28, 30, 0.8));\n\t\t\t\t}\n\n\t\t\t\t/* Soften ambient and glow in dark to avoid long bright bars */\n\t\t\t\t.captcha[data-state=verifying]::after {\n\t\t\t\t\tbackground: linear-gradient(120deg,\n\t\t\t\t\t\ttransparent 0%,\n\t\t\t\t\t\tvar(--cap-ambient-color-dark, rgba(59, 130, 246, 0.06)) 28%,\n\t\t\t\t\t\tvar(--cap-ambient-peak-dark, rgba(59, 130, 246, 0.12)) 42%,\n\t\t\t\t\t\tvar(--cap-ambient-color-dark, rgba(59, 130, 246, 0.06)) 56%,\n\t\t\t\t\t\ttransparent 70%\n\t\t\t\t\t);\n\t\t\t\t\topacity: var(--cap-ambient-opacity-dark, 1);\n\t\t\t\t}\n\t\t\t\t.captcha[data-state=verifying]::before {\n\t\t\t\t\t--cap-glow-color: var(--cap-glow-color-dark, rgba(59, 130, 246, 0.08));\n\t\t\t\t\t--cap-glow-spread: var(--cap-glow-spread-dark, 5px);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=done] {\n\t\t\t\t\tbackground-color: var(--cap-background-dark, rgba(28, 28, 30, 0.8));\n\t\t\t\t\tborder-color: var(--cap-border-color-success-dark, rgba(34, 197, 94, 0.8));\n\t\t\t\t\tcolor: var(--cap-color-success-dark, #4ade80);\n\t\t\t\t\tbox-shadow: 0 0 0 1px rgba(34, 197, 94, 0.2), var(--cap-shadow-dark, 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=error] {\n\t\t\t\t\tbackground-color: var(--cap-background-dark, rgba(28, 28, 30, 0.8));\n\t\t\t\t\tborder-color: var(--cap-border-color-error-dark, rgba(239, 68, 68, 0.8));\n\t\t\t\t\tcolor: var(--cap-color-error-dark, #f87171);\n\t\t\t\t\tbox-shadow: 0 0 0 1px rgba(239, 68, 68, 0.2), var(--cap-shadow-dark, 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.credits {\n\t\t\t\t\tcolor: var(--cap-credits-color-dark, #8e8e93);\n\t\t\t\t\ttransition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.credits:hover {\n\t\t\t\t\tcolor: var(--cap-credits-color-hover-dark, #aeaeb2);\n\t\t\t\t}\n\t\t\t\t/* Use text-clipped skeleton in dark initial state as well */\n\t\t\t\t:host(:not([data-cap-skeleton="false"])) .captcha:not([data-state]) p,\n\t\t\t\t:host(:not([data-cap-skeleton="false"])) .captcha[data-state=""] p { color: transparent; }\n\t\t\t}\n\n\t\t\t/* High contrast and forced-colors support */\n\t\t\t@media (prefers-contrast: more) {\n\t\t\t\t.captcha { border-color: currentColor !important; box-shadow: none !important; }\n\t\t\t\t.captcha:hover { border-color: currentColor !important; }\n\t\t\t\t.checkbox { border-color: currentColor !important; }\n\t\t\t}\n\n\t\t\t@media (forced-colors: active) {\n\t\t\t\t.captcha {\n\t\t\t\t\tforced-color-adjust: none;\n\t\t\t\t\tbackground: Canvas;\n\t\t\t\t\tborder-color: ButtonText;\n\t\t\t\t\tcolor: ButtonText;\n\t\t\t\t\tbox-shadow: none;\n\t\t\t\t}\n\t\t\t\t.checkbox { border-color: ButtonText; background: Canvas; }\n\t\t\t\t/* Ensure inline SVG icons follow system color in forced-colors */\n\t\t\t\t.checkbox .icon { color: ButtonText !important; }\n\t\t\t\t/* Ensure text remains readable when skeleton uses background-clip */\n\t\t\t\t.captcha p { background: none !important; color: ButtonText !important; }\n\t\t\t\t.captcha[data-state=done] .checkbox,\n\t\t\t\t.captcha[data-state=error] .checkbox { background-image: none; }\n\t\t\t\t.captcha .particles, .captcha:not([data-state]) p::after, .captcha[data-state=""] p::after { display: none; }\n\t\t\t}\n\t\t\t\n\t\t\t/* Accessibility & Focus States */\n\t\t\t.captcha:focus-visible {\n\t\t\t\toutline: 2px solid var(--cap-focus-color, #007aff);\n\t\t\t\toutline-offset: 2px;\n\t\t\t\tbox-shadow: 0 0 0 3px var(--cap-focus-ring, rgba(0, 122, 255, 0.25)), var(--cap-shadow, 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06));\n\t\t\t\tborder-color: var(--cap-focus-border, var(--cap-focus-color, #007aff));\n\t\t\t}\n\t\t\t\n\t\t\t/* Reduced Motion Support */\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\t.captcha, .checkbox, .captcha p, .credits {\n\t\t\t\t\ttransition: none !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=done], \n\t\t\t\t.captcha[data-state=error] {\n\t\t\t\t\tanimation: none !important;\n\t\t\t\t\ttransition: background-color 0.2s ease !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=done] {\n\t\t\t\t\tbackground-color: var(--cap-background-success, #f0fdf4) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=error] {\n\t\t\t\t\tbackground-color: var(--cap-background-error, #fef2f2) !important;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.captcha[data-state=verifying] .checkbox,\n\t\t\t\t.captcha[data-state=done] .checkbox,\n\t\t\t\t.captcha[data-state=error] .checkbox {\n\t\t\t\t\ttransition: none !important;\n\t\t\t\t}\n\t\t\t\t.captcha[data-state=verifying] .checkbox { animation: none !important; }\n\t\t\t\t.captcha:not([data-state]) p, .captcha[data-state=""] p { animation: none !important; background: none !important; color: inherit !important; }\n\t\t\t\t.captcha:not([data-state]) p::after, .captcha[data-state=""] p::after { display: none !important; }\n\t\t\t\t.particles, .captcha[data-state=verifying]::before, .captcha[data-state=verifying]::after { display: none !important; }\n\t\t\t\t/* Disable inline SVG icon animations for reduced motion */\n\t\t\t\t.checkbox .icon, .checkbox .icon-check path { transition: none !important; }\n\t\t\t\t.captcha[data-state=done] .checkbox .icon-check path { stroke-dashoffset: 0 !important; }\n\t\t\t}\n\n\t\t\t/* Touch targets */\n\t\t\t@media (pointer: coarse) {\n\t\t\t\t.captcha { height: var(--cap-widget-height-touch, 60px); }\n\t\t\t}\n\t\t\t</style>',this.#n.appendChild(this.#r)}addEventListeners(){this.#r&&(this.#r.querySelector("a").addEventListener("click",t=>{t.stopPropagation(),t.preventDefault(),window.open("https://captcha.gurl.eu.org/","_blank")}),this.#r.addEventListener("click",()=>{this.#r.hasAttribute("disabled")||this.solve()}),this.#r.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||this.#r.hasAttribute("disabled")||(t.preventDefault(),t.stopPropagation(),this.solve())}),this.addEventListener("progress",this.boundHandleProgress),this.addEventListener("solve",this.boundHandleSolve),this.addEventListener("error",this.boundHandleError),this.addEventListener("reset",this.boundHandleReset))}updateUI(t,e,a=!1){if(!this.#r)return;this.#r.setAttribute("data-state",t),this.#r.querySelector("p").innerText=e,this.#r.setAttribute("aria-busy","verifying"===t?"true":"false");const n="verifying"===t?"mixed":"done"===t?"true":"false";this.#r.setAttribute("aria-checked",n),"error"===t?this.#r.setAttribute("aria-invalid","true"):this.#r.removeAttribute("aria-invalid"),a?(this.#r.setAttribute("disabled","true"),this.#r.setAttribute("aria-disabled","true")):(this.#r.removeAttribute("disabled"),this.#r.removeAttribute("aria-disabled"))}handleProgress(t){if(!this.#r)return;const e=this.#r.querySelector("p"),a=this.#r.querySelector(".checkbox"),n=this.#r.querySelector(".sr-progress");e&&a&&(a.style.setProperty("--progress",`${t.detail.progress}%`),e.innerText=`${this.getI18nText("verifying-label","Verifying...")} ${t.detail.progress}%`),n&&(n.setAttribute("aria-valuenow",String(t.detail.progress)),n.setAttribute("aria-valuetext",`${this.getI18nText("verifying-label","Verifying...")} ${t.detail.progress}%`)),this.executeAttributeCode("onprogress",t)}handleSolve(t){this.updateUI("done",this.getI18nText("solved-label","Verified"),!0),this.executeAttributeCode("onsolve",t)}handleError(t){this.updateUI("error",this.getI18nText("error-label","Error. Try again.")),this.executeAttributeCode("onerror",t)}handleReset(t){this.updateUI("",this.getI18nText("initial-state","Verify to continue")),this.executeAttributeCode("onreset",t)}executeAttributeCode(t,e){const a=this.getAttribute(t);a&&new Function("event",a).call(this,e)}error(t="Unknown error"){console.error("[cap]",t),this.dispatchEvent("error",{isCap:!0,message:t})}dispatchEvent(t,e={}){const a=new CustomEvent(t,{bubbles:!0,composed:!0,detail:e});super.dispatchEvent(a)}reset(){this.#e&&(clearTimeout(this.#e),this.#e=null),this.dispatchEvent("reset"),this.token=null;const t=this.getAttribute("data-cap-hidden-field-name")||"cap-token";this.querySelector(`input[name='${t}']`)&&(this.querySelector(`input[name='${t}']`).value="")}get tokenValue(){return this.token}disconnectedCallback(){this.removeEventListener("progress",this.boundHandleProgress),this.removeEventListener("solve",this.boundHandleSolve),this.removeEventListener("error",this.boundHandleError),this.removeEventListener("reset",this.boundHandleReset),this.#s.forEach((t,e)=>{this.removeEventListener(e.slice(2),t)}),this.#s.clear(),this.#n&&(this.#n.innerHTML=""),this.reset(),this.cleanup()}cleanup(){this.#e&&(clearTimeout(this.#e),this.#e=null),this.#t&&(URL.revokeObjectURL(this.#t),this.#t="")}}class r{constructor(t={},e){const a=e||document.createElement("cap-widget");if(Object.entries(t).forEach(([t,e])=>{a.setAttribute(t,e)}),!t.apiEndpoint&&!window?.CAP_CUSTOM_FETCH)throw a.remove(),new Error("Missing API endpoint. Either custom fetch or an API endpoint must be provided.");t.apiEndpoint&&a.setAttribute("data-cap-api-endpoint",t.apiEndpoint),this.widget=a,this.solve=this.widget.solve.bind(this.widget),this.reset=this.widget.reset.bind(this.widget),this.addEventListener=this.widget.addEventListener.bind(this.widget),Object.defineProperty(this,"token",{get:()=>a.token,configurable:!0,enumerable:!0}),e||(a.style.display="none",document.documentElement.appendChild(a))}}window.Cap=r,customElements.get("cap-widget")||window?.CAP_DONT_SKIP_REDEFINE?console.warn("[cap] the cap-widget element has already been defined, skipping re-defining it.\nto prevent this, set window.CAP_DONT_SKIP_REDEFINE to true"):customElements.define("cap-widget",n),"object"==typeof exports&&"undefined"!=typeof module?module.exports=r:"function"==typeof define&&define.amd&&define([],()=>r),"undefined"!=typeof exports&&(exports.default=r)})();